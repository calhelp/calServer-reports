<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 7.0.2.final using JasperReports Library version 6.20.6  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Inventory_Overview_SQL" pageWidth="595" pageHeight="842" whenNoDataType="AllSectionsNoDetail" columnWidth="561" leftMargin="17" rightMargin="17" topMargin="12" bottomMargin="12" uuid="c1c8b2ec-4a0d-4a27-9b2e-9b0a4b0e9abc">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="CalHelp Data Adapter "/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<parameter name="PrefixTable" class="java.lang.String">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="Sprache" class="java.lang.String">
		<defaultValueExpression><![CDATA["Deutsch"]]></defaultValueExpression>
	</parameter>
	<parameter name="QR_Code_Value" class="java.lang.String">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<parameter name="P_MTAG" class="java.lang.String">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<queryString language="SQL">
		<![CDATA[SELECT
  i.*,
  c.*,
  b.*,
  l.*,
  cal.*,

  i.MTAG    AS inv_MTAG,
  i.I4201   AS inv_I4201,
  i.I4202   AS inv_I4202,
  i.I4203   AS inv_I4203,
  i.I4204   AS inv_I4204,
  i.I4206   AS inv_I4206,
  i.I4228   AS inv_I4228,
  i.I4229   AS inv_I4229,
  i.I4232   AS inv_I4232,
  i.I4299   AS inv_I4299,

  c.K4602   AS cust_K4602,
  c.K4603   AS cust_K4603,
  c.K4604   AS cust_K4604,
  c.K4605   AS cust_K4605,
  c.K4606   AS cust_K4606,

  l.L2801   AS loc_L2801,
  l.L2802   AS loc_L2802,
  l.L2809   AS loc_L2809,

  cal.C2301 AS cal_C2301,
  cal.C2307 AS cal_C2307,
  cal.C2311 AS cal_C2311,
  cal.C2312 AS cal_C2312,
  cal.C2339 AS cal_C2339,
  cal.C2396 AS cal_C2396

FROM $P!{PrefixTable}inventory   i
LEFT JOIN $P!{PrefixTable}customers   c  ON i.KTAG = c.KTAG
LEFT JOIN $P!{PrefixTable}barcode     b  ON i.MTAG = b.barcode_key
LEFT JOIN $P!{PrefixTable}location    l  ON l.MTAG = i.MTAG  AND l.L2815 = 1      -- letzte/aktive Location
LEFT JOIN $P!{PrefixTable}calibration cal ON cal.MTAG = i.MTAG AND cal.C2339 = 1  -- letzte gültige Kalibrierung
WHERE i.MTAG = $P{P_MTAG}]]>
	</queryString>
	<field name="inv_MTAG" class="java.lang.String"/>
	<field name="inv_I4201" class="java.lang.String"/>
	<field name="inv_I4202" class="java.lang.String"/>
	<field name="inv_I4203" class="java.lang.String"/>
	<field name="inv_I4204" class="java.lang.String"/>
	<field name="inv_I4206" class="java.lang.String"/>
	<field name="inv_I4228" class="java.lang.String"/>
	<field name="inv_I4229" class="java.lang.String"/>
	<field name="inv_I4232" class="java.lang.String"/>
	<field name="inv_I4299" class="java.lang.String"/>
	<field name="cust_K4602" class="java.lang.String"/>
	<field name="cust_K4603" class="java.lang.String"/>
	<field name="cust_K4604" class="java.lang.String"/>
	<field name="cust_K4605" class="java.lang.String"/>
	<field name="cust_K4606" class="java.lang.String"/>
	<field name="loc_L2801" class="java.lang.String"/>
	<field name="loc_L2802" class="java.lang.String"/>
	<field name="loc_L2809" class="java.sql.Timestamp"/>
	<field name="cal_C2301" class="java.sql.Date"/>
	<field name="cal_C2307" class="java.lang.String"/>
	<field name="cal_C2311" class="java.lang.String"/>
	<field name="cal_C2312" class="java.lang.String"/>
	<field name="cal_C2339" class="java.lang.String"/>
	<field name="cal_C2396" class="java.lang.String"/>
	<variable name="Inventory_title" class="java.lang.String" resetType="None">
		<variableExpression><![CDATA[($P{Sprache}.equals("Deutsch") ? "Kalibrierkontrollblatt: " : "Calibration control sheet: ")
            + ($F{inv_I4201} == null ? "" : $F{inv_I4201})]]></variableExpression>
	</variable>
	<title>
		<band height="120" splitType="Stretch">
			<textField textAdjust="StretchHeight">
				<reportElement x="16" y="10" width="529" height="28" uuid="78d80d63-510a-4154-8d8d-dcb1eef7187b"/>
				<textElement textAlignment="Center">
					<font size="18" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{Inventory_title}]]></textFieldExpression>
			</textField>
			<componentElement>
				<reportElement x="511" y="8" width="48" height="48" uuid="9c392a7f-bb71-4c23-993e-1cbf83a82929"/>
				<jr:QRCode xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<jr:codeExpression><![CDATA[$P{QR_Code_Value}]]></jr:codeExpression>
				</jr:QRCode>
			</componentElement>
			<textField textAdjust="StretchHeight">
				<reportElement x="16" y="50" width="529" height="16" uuid="eaa1e516-b84d-4d15-a2aa-c2139bf56df1"/>
				<textElement textAlignment="Center">
					<font size="10" isItalic="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Sprache}.equals("Deutsch")
                    ? "Übersicht: Stammdaten, Kunde, letzter Standort (L2815=1), letzte Kalibrierung (C2339=1)"
                    : "Overview: master data, customer, last location (L2815=1), last calibration (C2339=1)"]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="16" y="74" width="529" height="1" uuid="0ede52a5-ecfe-4013-a1fd-f75d0edc7cb0"/>
			</line>
		</band>
	</title>
	<pageHeader>
		<band height="24" splitType="Prevent">
			<textField textAdjust="StretchHeight">
				<reportElement x="16" y="4" width="300" height="18" uuid="3f3d34c7-8fc3-47df-ae50-8a1d4c5f1cf5"/>
				<textElement verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Kunde: " 
                    + ($F{cust_K4602}==null?"":$F{cust_K4602})
                    + (($F{cust_K4603}!=null && !$F{cust_K4603}.isEmpty()) ? (", " + $F{cust_K4603}) : "")]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight">
				<reportElement x="336" y="4" width="209" height="18" uuid="a6f37b82-d1ca-4c42-ba5f-3c6aad918a37"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Seriennr.: " + ($F{inv_I4206}==null?"":$F{inv_I4206})]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="1" splitType="Stretch"/>
	</detail>
	<pageFooter>
		<band height="36" splitType="Stretch">
			<textField textAdjust="StretchHeight" evaluationTime="Report">
				<reportElement x="16" y="8" width="200" height="16" uuid="22f25a49-da26-4c3a-9b1d-dbe73d011244"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Seite " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<lastPageFooter>
		<band/>
	</lastPageFooter>
	<summary>
		<band height="520" splitType="Stretch">
			<staticText>
				<reportElement x="16" y="8" width="120" height="18" uuid="dd6d15fd-7063-4081-9569-2ecef47a7541"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[ID-NR / Inventar:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight">
				<reportElement x="150" y="8" width="395" height="18" uuid="ec0cd825-d86b-47fa-b475-a2452f337d83"/>
				<textFieldExpression><![CDATA[$F{inv_I4201}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="16" y="30" width="120" height="18" uuid="1c008bde-5004-4652-ba14-d4f9b3f1b1a6"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Hersteller:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight">
				<reportElement x="150" y="30" width="395" height="18" uuid="f694c3b5-fe73-441e-b945-b8f875ad889a"/>
				<textFieldExpression><![CDATA[$F{inv_I4202}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="16" y="52" width="120" height="18" uuid="514c688f-2859-46f6-a66e-9f92749b7bb4"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Modell / Typ:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight">
				<reportElement x="150" y="52" width="395" height="18" uuid="9977bbaf-83d0-4195-936b-68045ab49f6c"/>
				<textFieldExpression><![CDATA[$F{inv_I4203}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="16" y="74" width="120" height="18" uuid="9c2c6974-0142-4cae-9207-a2af58b34de0"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Beschreibung:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight">
				<reportElement x="150" y="74" width="395" height="34" uuid="17255e51-48ca-4324-9a93-ab1d6e09a0d7"/>
				<textFieldExpression><![CDATA[$F{inv_I4204}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="16" y="116" width="120" height="18" uuid="12429c6f-822d-49b9-9df1-b8a908fe50f0"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Intervall:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight">
				<reportElement x="150" y="116" width="160" height="18" uuid="47f8d133-9d19-4e51-830f-cc9bb9de87b4"/>
				<textFieldExpression><![CDATA[($F{inv_I4229}==null?"":$F{inv_I4229}) + " " + ($F{inv_I4228}==null?"":$F{inv_I4228})]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="16" y="140" width="120" height="18" uuid="92e26d12-8a2e-4287-9ea5-b166453f5404"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Kunde:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight">
				<reportElement x="150" y="140" width="395" height="36" uuid="f129ef4c-09ad-41d7-adb0-e3955b6b3afb"/>
				<textFieldExpression><![CDATA[($F{cust_K4602}==null?"":$F{cust_K4602})
                    + (($F{cust_K4603}!=null && !$F{cust_K4603}.isEmpty()) ? ("\n" + $F{cust_K4603}) : "")
                    + (($F{cust_K4604}!=null && !$F{cust_K4604}.isEmpty()) ? ("\n" + $F{cust_K4604}) : "")]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="16" y="186" width="120" height="18" uuid="b203ba1d-9f48-4449-8346-f033ae6e6d01"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Letzter Standort:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight">
				<reportElement x="150" y="186" width="395" height="36" uuid="f363ec01-defa-4dd5-8f2a-7acb7b32381f"/>
				<textFieldExpression><![CDATA[($F{loc_L2801}==null?"":$F{loc_L2801})
                    + (($F{loc_L2802}!=null && !$F{loc_L2802}.isEmpty()) ? (", " + $F{loc_L2802}) : "")
                    + ($F{loc_L2809}!=null ? ("\nStart: " + new java.text.SimpleDateFormat("yyyy-MM-dd HH:mm").format($F{loc_L2809})) : "")]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="16" y="232" width="120" height="18" uuid="c4295784-1e89-4253-9e15-e95297a9d255"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Letzte Kalibrierung:]]></text>
			</staticText>
			<textField pattern="dd.MM.yyyy">
				<reportElement x="150" y="232" width="160" height="18" uuid="c082c8b4-95e9-4229-a5a2-302d6f938600"/>
				<textFieldExpression><![CDATA[$F{cal_C2301}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="320" y="232" width="80" height="18" uuid="06725674-e99b-4c27-a86f-0b05e84820a4"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Techniker:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight">
				<reportElement x="400" y="232" width="145" height="18" uuid="87f92dd4-f6e5-4b55-b9aa-767442f8bf05"/>
				<textFieldExpression><![CDATA[$F{cal_C2307}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="16" y="256" width="120" height="18" uuid="31c9cf0f-46c8-452c-a350-f5df10d95a7c"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Temp / Feuchte:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight">
				<reportElement x="150" y="256" width="200" height="18" uuid="0a51d410-ffea-4d4b-a252-1dea5f92769a"/>
				<textFieldExpression><![CDATA[($F{cal_C2311}==null?"":$F{cal_C2311}) + " °C / " + ($F{cal_C2312}==null?"":$F{cal_C2312}) + " %"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="16" y="280" width="120" height="18" uuid="2e7f7199-9697-4b11-bebb-e6bba234f76c"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Gültiger Eintrag:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight">
				<reportElement x="150" y="280" width="80" height="18" uuid="d119ede2-9aa5-42dd-8b4f-d791abea6b37"/>
				<textFieldExpression><![CDATA[$F{cal_C2339}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="16" y="304" width="120" height="18" uuid="bc8894bb-fe8c-46ee-b823-9acfa4e058f4"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Zertifikatname:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight">
				<reportElement x="150" y="304" width="395" height="34" uuid="01284b95-db43-4b07-9a22-72cdc1300546"/>
				<textFieldExpression><![CDATA[$F{cal_C2396}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="16" y="344" width="120" height="18" uuid="666939f6-1e00-485e-b105-1a3945cda15b"/>
				<textElement>
					<font size="10" isBold="true"/>
				</textElement>
				<text><![CDATA[Barcode / ID:]]></text>
			</staticText>
			<textField textAdjust="StretchHeight">
				<reportElement x="150" y="344" width="395" height="18" uuid="1eb4b398-2a5d-41a8-aae4-b47f5788bec5"/>
				<textFieldExpression><![CDATA[$F{inv_I4299}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
